{
  "Resources": {
    "ElastiCacheSecurityGroup": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "ElastiCacheSecurityGroup",
        "SecurityGroupIngress": [
          {
            "FromPort": 6379,
            "IpProtocol": "tcp",
            "SourceSecurityGroupId": {
              "Ref": "referencetodevmysitecomstackVpcNestedStackVpcNestedStackResource873B7958OutputsdevmysitecomstackVpc8106B855DefaultSecurityGroup"
            },
            "ToPort": 6379
          }
        ],
        "Tags": [
          {
            "Key": "StackName",
            "Value": "dev-mysite-com"
          }
        ],
        "VpcId": {
          "Ref": "referencetodevmysitecomstackVpcNestedStackVpcNestedStackResource873B7958OutputsdevmysitecomstackVpc8106B855Ref"
        }
      },
      "Metadata": {
        "aws:cdk:path": "dev-mysite-com-stack/ElastiCacheStack/ElastiCacheSecurityGroup"
      }
    },
    "CfnSubnetGroup": {
      "Type": "AWS::ElastiCache::SubnetGroup",
      "Properties": {
        "Description": "The subnet group for ElastiCache",
        "SubnetIds": [
          {
            "Ref": "referencetodevmysitecomstackVpcNestedStackVpcNestedStackResource873B7958OutputsdevmysitecomstackVpcIsolatedSubnet1SubnetDCCE15C8Ref"
          },
          {
            "Ref": "referencetodevmysitecomstackVpcNestedStackVpcNestedStackResource873B7958OutputsdevmysitecomstackVpcIsolatedSubnet2Subnet44DEA593Ref"
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "dev-mysite-com-stack/ElastiCacheStack/CfnSubnetGroup"
      }
    },
    "ElastiCacheClusterRedis": {
      "Type": "AWS::ElastiCache::CacheCluster",
      "Properties": {
        "CacheNodeType": "cache.t2.micro",
        "Engine": "redis",
        "NumCacheNodes": 1,
        "CacheSubnetGroupName": {
          "Ref": "CfnSubnetGroup"
        },
        "Tags": [
          {
            "Key": "StackName",
            "Value": "dev-mysite-com"
          }
        ],
        "VpcSecurityGroupIds": [
          {
            "Fn::GetAtt": [
              "ElastiCacheSecurityGroup",
              "GroupId"
            ]
          }
        ]
      },
      "Metadata": {
        "aws:cdk:path": "dev-mysite-com-stack/ElastiCacheStack/ElastiCacheClusterRedis"
      }
    }
  },
  "Parameters": {
    "referencetodevmysitecomstackVpcNestedStackVpcNestedStackResource873B7958OutputsdevmysitecomstackVpc8106B855DefaultSecurityGroup": {
      "Type": "String"
    },
    "referencetodevmysitecomstackVpcNestedStackVpcNestedStackResource873B7958OutputsdevmysitecomstackVpc8106B855Ref": {
      "Type": "String"
    },
    "referencetodevmysitecomstackVpcNestedStackVpcNestedStackResource873B7958OutputsdevmysitecomstackVpcIsolatedSubnet1SubnetDCCE15C8Ref": {
      "Type": "String"
    },
    "referencetodevmysitecomstackVpcNestedStackVpcNestedStackResource873B7958OutputsdevmysitecomstackVpcIsolatedSubnet2Subnet44DEA593Ref": {
      "Type": "String"
    }
  },
  "Outputs": {
    "devmysitecomstackElastiCacheStackElastiCacheClusterRedisD95A8DAARedisEndpointAddress": {
      "Value": {
        "Fn::GetAtt": [
          "ElastiCacheClusterRedis",
          "RedisEndpoint.Address"
        ]
      }
    }
  }
}